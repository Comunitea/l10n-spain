<?xml version="1.0" encoding="utf-8" ?>
<!-- Copyright 2024 Comunitea (http://www.comunitea.com)
     Copyright 2024 Comunitea - Javier Colmenero Fernández
     License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl). -->
<odoo>
    <!--  CONFIG MOD 182  -->
    <record id="aeat_mod182_export_config" model="aeat.model.export.config">
        <field name="name">Exportación Mod 182</field>
        <field name="model_number">182</field>
        <field name="model_id" ref="model_l10n_es_aeat_mod182_report" />
        <field name="active" eval="True" />
    </record>

    <!-- (1) TIPO REGISTRO (1) -->
    <record id="aeat_mod182_export_line_01" model="aeat.model.export.config.line">
        <field name="sequence">1</field>
        <field name="export_config_id" ref="aeat_mod182_export_config" />
        <field name="name">Tipo Registro 1</field>
        <field name="fixed_value">1</field>
        <field name="export_type">integer</field>
        <field name="size">1</field>
        <field name="alignment">left</field>
    </record>

    <!-- (2-4) MODELO DECLARACIÓN (3) -->
    <record id="aeat_mod182_export_line_02" model="aeat.model.export.config.line">
        <field name="sequence">2</field>
        <field name="export_config_id" ref="aeat_mod182_export_config" />
        <field name="name">Modelo Declaración</field>
        <field name="fixed_value">182</field>
        <field name="export_type">integer</field>
        <field name="size">3</field>
        <field name="alignment">left</field>
    </record>

    <!-- (5-8) Ejercicio (4) -->
    <record id="aeat_mod182_export_line_03" model="aeat.model.export.config.line">
        <field name="sequence">3</field>
        <field name="export_config_id" ref="aeat_mod182_export_config" />
        <field name="name">Ejercicio</field>
        <field name="expression">${object.year}</field>
        <field name="export_type">string</field>
        <field name="size">4</field>
        <field name="alignment">left</field>
    </record>

    <!-- (9-17) NIF DECLARANTE (9) -->
    <record id="aeat_mod182_export_line_04" model="aeat.model.export.config.line">
        <field name="sequence">4</field>
        <field name="export_config_id" ref="aeat_mod182_export_config" />
        <field name="name">NIF DECLARANTE</field>
        <!-- <field name="expression">${object.company_vat_mod182}</field> -->
        <field name="expression">${object.company_vat}</field>
        <field name="export_type">string</field>
        <field name="size">9</field>
        <field name="alignment">right</field>
    </record>

    <!-- (18-57) DENOMINACIÓN DEL DECLARANTE.  (40) -->
    <record id="aeat_mod182_export_line_05" model="aeat.model.export.config.line">
        <field name="sequence">5</field>
        <field name="export_config_id" ref="aeat_mod182_export_config"/>
        <field name="name">DENOMINACIÓN DEL DECLARANTE</field>
        <field name="expression">${object.partner_id.name}</field>
        <field name="export_type">string</field>
        <field name="size">40</field>
        <field name="alignment">left</field>
    </record>

    <!-- (58) TIPO DE SOPORTE (1) -->
    <record id="aeat_mod182_export_line_06" model="aeat.model.export.config.line">
        <field name="sequence">6</field>
        <field name="export_config_id" ref="aeat_mod182_export_config" />
        <field name="name">Tipo de soporte</field>
         <field name="expression">${object.support_type}</field>
        <field name="export_type">string</field>
        <field name="size">1</field>
        <field name="alignment">left</field>
    </record>

    <!-- (59-107) PERSONA RELACION (49) -->
    <!-- (59-67) Teléfono (9) -->
    <record id="aeat_mod182_export_line_07" model="aeat.model.export.config.line">
        <field name="sequence">7</field>
        <field name="export_config_id" ref="aeat_mod182_export_config" />
        <field name="name">PERSONA RELACION: Teléfono</field>
        <!-- <field name="expression">${object.partner_id.phone}}</field> -->
        <field name="expression">${object.contact_phone}}</field>
        <field name="export_type">string</field>
        <field name="size">9</field>
        <field name="alignment">left</field>
    </record>
    <!-- (59-107) PERSONA RELACION (49) -->
    <!-- (67-107) Apellidos y Nombre (40) -->
    <record id="aeat_mod182_export_line_08" model="aeat.model.export.config.line">
        <field name="sequence">8</field>
        <field name="export_config_id" ref="aeat_mod182_export_config" />
        <field name="name">PERSONA RELACION: Apellidos y Nombre</field>
        <!-- <field name="expression">${object.partner_id.phone}</field> -->
        <field name="expression">${object.contact_name}</field>
        <field name="export_type">string</field>
        <field name="size">40</field>
        <field name="alignment">left</field>
     </record>

    <!-- (108-120) Nº JUSTIFICANTE (23) -->
    <record id="aeat_mod182_export_line_09" model="aeat.model.export.config.line">
        <field name="sequence">9</field>
        <field name="export_config_id" ref="aeat_mod182_export_config" />
        <field name="name">Nº JUSTIFICANTE</field>
        <field name="expression">${object.name}</field>
        <field name="export_type">string</field>
        <field name="size">13</field>
        <field name="alignment">left</field>
    </record>

    <!-- (121-122) DECLARACION COMPLEMENTARIA O SUSTITUTIVA (2) -->
    <!-- (121) DECLARACION COMPLEMENTARIA O SUSTITUTIVA (1) -->
    <record id="aeat_mod182_export_line_10" model="aeat.model.export.config.line">
        <field name="sequence">10</field>
        <field name="export_config_id" ref="aeat_mod182_export_config" />
        <field name="name">Complementaria - Declaración complementaria</field>
        <field name="expression">${object.statement_type == 'C'}</field>
        <field name="export_type">boolean</field>
        <field name="size">1</field>
        <field name="bool_yes">C</field>
        <field name="bool_no"> </field>
        <field name="alignment">left</field>
    </record>
    <!-- (121-122) DECLARACION COMPLEMENTARIA O SUSTITUTIVA (2) -->
    <!-- (122) DECLARACION COMPLEMENTARIA O SUSTITUTIVA (1) -->
    <record id="aeat_mod182_export_line_11" model="aeat.model.export.config.line">
        <field name="sequence">11</field>
        <field name="export_config_id" ref="aeat_mod182_export_config" />
        <field name="name">Sustitutiva - Declaración sustitutiva</field>
        <field name="expression">${object.statement_type == 'S'}</field>
        <field name="export_type">boolean</field>
        <field name="size">1</field>
        <field name="bool_yes">S</field>
        <field name="bool_no"> </field>
        <field name="alignment">left</field>
    </record>

    <!-- (123-135) NUMERO IDENTIFICATIVO DE LA DECLARACION ANTERIOR (13) -->
    <record id="aeat_mod182_export_line_12" model="aeat.model.export.config.line">
        <field name="sequence">12</field>
        <field name="export_config_id" ref="aeat_mod182_export_config" />
        <field name="name">Numero identificativo de la declaración anterior</field>
        <field name="expression">${int(object.previous_number) if object.statement_type in ('C', 'S') else 0}</field>
         <field name="export_type">integer</field>
        <field name="size">13</field>
        <field name="alignment">left</field>
    </record>

    <!-- (136-144) Nº Registros declarados (9) -->
    <record id="aeat_mod182_export_line_13" model="aeat.model.export.config.line">
        <field name="sequence">13</field>
        <field name="export_config_id" ref="aeat_mod182_export_config" />
        <field name="name">Nº Registros declarados</field>
        <field name="expression">${len(object.line_ids)}</field>
        <field name="export_type">integer</field>
        <field name="size">9</field>
        <field name="alignment">right</field>
    </record>

    <!-- (145-159) IMPORTE DONATIVOS (15) -->
    <!-- (145-157) Parte entera (13) -->
    <!-- (158-159) Parte Decomal (2) -->
    <record id="aeat_mod182_export_line_14" model="aeat.model.export.config.line">
        <field name="sequence">14</field>
        <field name="export_config_id" ref="aeat_mod182_export_config" />
        <field name="name">IMPORTE DONATIVOS</field>
        <field name="expression">${object.donation_amount}</field>
        <field name="export_type">float</field>
        <field name="size">15</field>
        <field name="decimal_size">2</field>
        <field name="alignment">right</field>
    </record>

    <!-- (160) NATURALEZA DECLARANTE (1) -->
    <record id="aeat_mod182_export_line_15" model="aeat.model.export.config.line">
        <field name="sequence">15</field>
        <field name="export_config_id" ref="aeat_mod182_export_config" />
        <field name="name">Nº Registros declarados</field>
        <field name="expression">${object.naturaleza_declarante}</field>
        <field name="export_type">string</field>
        <field name="size">1</field>
        <field name="alignment">left</field>
    </record>
    

    <!-- (161-237) BLANCOS  -->
    <record id="aeat_mod182_export_line_16" model="aeat.model.export.config.line">
        <field name="sequence">16</field>
        <field name="export_config_id" ref="aeat_mod182_export_config" />
        <field name="name">Reservado para la Administración. Rellenar con blancos</field>
        <field name="fixed_value" />
        <field name="export_type">string</field>
        <field name="size">77</field>
        <field name="alignment">left</field>
    </record>
    <!-- (238-250) SELLO ELECTRONICO (13) -->
    <record id="aeat_mod182_export_line_17" model="aeat.model.export.config.line">
        <field name="sequence">17</field>
        <field name="export_config_id" ref="aeat_mod182_export_config" />
        <field name="name">Reservado para el sello electrónico de la AEAT (13)</field>
        <field name="fixed_value" />
        <field name="export_type">string</field>
        <field name="size">13</field>
        <field name="alignment">left</field>
    </record>
    <!-- FIN DE REGISTRO -->
    <!-- (0) NUEVA LINEA -->
    <record id="aeat_mod182_export_line_18" model="aeat.model.export.config.line">
        <field name="sequence">18</field>
        <field name="export_config_id" ref="aeat_mod182_export_config" />
        <field name="name">Cambio línea: Constante CRLF (Hexadecimal 0D0A, Decimal 1310)</field>
        <field name="expression">${"\r\n".encode("ascii")}</field>
        <field name="export_type">string</field>
        <field name="size">2</field>
        <field name="alignment">left</field>
    </record>

    <!--  B. TIPO DE REGISTRO 2: REGISTRO DE PERCEPTOR -->
    <record id="aeat_mod182_export_line_19" model="aeat.model.export.config.line">
        <field name="sequence">19</field>
        <field name="export_config_id" ref="aeat_mod182_export_config" />
        <field name="name">Tipo de Registro 2  Registro de declarado</field>
        <field name="subconfig_id" ref="aeat_mod182_export_partner_donation_config"/>
        <field name="export_type">subconfig</field>
        <field name="repeat_expression">object.line_ids</field>
    </record>
</odoo>
